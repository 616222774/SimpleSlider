!function(context,definition){"use strict";"undefined"!=typeof module&&module.exports?module.exports=definition():"function"==typeof define&&define.amd?define(definition):window.SimpleSlider=definition()}(this,function(){"use strict";function getdef(val,def){return void 0===val||null===val?def:val}function testChildrenNum(value){if(0>=value){try{console.warn("A SimpleSlider main container elementshould have at least one child.")}catch(e){}return!0}return!1}var SimpleSlider=function(containerElem,options){this.containerElem=containerElem,this.trVal=0,this.interval=0,options||(options={}),this.trProp=getdef(options.transitionProperty,"opacity"),this.trTime=getdef(options.transitionTime,.5),this.delay=getdef(options.transitionDelay,2),this.startVal=getdef(options.startValue,100),this.endVal=getdef(options.endValue,0),this.autoPlay=getdef(options.autoPlay,!0),this.init()};return SimpleSlider.prototype.init=function(){this.reset(),this.configSlideshow()},SimpleSlider.prototype.reset=function(){if(!testChildrenNum(this.containerElem.children.length)){var i=this.containerElem.children.length-1;for(this.imgs=[];i>=0;)this.imgs[i]=this.containerElem.children[i],this.imgs[i].style[this.trProp]=this.endVal,i--;this.imgs[0].style[this.trProp]=this.startVal,this.actualIndex=0}},SimpleSlider.prototype.configSlideshow=function(){if(this.imgs&&this.autoPlay){var scope=this;this.interval?window.clearInterval(this.interval):this.interval=window.setInterval(function(){scope.change(scope.nextIndex())},1e3*this.delay)}},SimpleSlider.prototype.anim=function(target,diffValue,targetValue){var nextValue=this.trVal+diffValue/60;this.trVal=nextValue,target.style[this.trProp]=this.trVal/100;var isPositive=diffValue>0&&targetValue>nextValue,isNegative=0>=diffValue&&nextValue>targetValue;if(isPositive||isNegative){var scope=this;window.setTimeout(function(){scope.anim.apply(scope,[target,diffValue,targetValue])},1e3*scope.trTime/60)}else target.style[this.trProp]=diffValue},SimpleSlider.prototype.startAnim=function(target,fromValue,targetValue){this.trVal=fromValue;var animEndValue=targetValue-this.trVal;this.anim(target,animEndValue,targetValue)},SimpleSlider.prototype.remove=function(index){this.startAnim(this.imgs[index],this.startVal,this.endVal)},SimpleSlider.prototype.insert=function(index){this.startAnim(this.imgs[index],this.endVal,this.startVal)},SimpleSlider.prototype.change=function(newIndex){this.remove(this.actualIndex),this.insert(newIndex),this.actualIndex=newIndex},SimpleSlider.prototype.nextIndex=function(){var newIndex=this.actualIndex+1;return newIndex>=this.imgs.length&&(newIndex=0),newIndex},SimpleSlider.prototype.dispose=function(){window.clearInterval(this.actualIndex);for(var i=this.imgs.length;--i;)this.imgs.pop();this.imgs=null,this.containerElem=null,this.trVal=null,this.interval=null,this.trProp=null,this.trTime=null,this.delay=null,this.startVal=null,this.endVal=null,this.autoPlay=null,this.actualIndex=null},SimpleSlider});